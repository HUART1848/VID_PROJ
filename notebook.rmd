---
title: "VID - Project"
author: "Farouk Ferchichi & Hugo Huart"
date: "2023-05-10"
output: html_document
---

# Introduction

```{r message=FALSE, warning=FALSE}
library(DataExplorer)
library(inspectdf)
library(tidyverse)
library(rpart)
```

# Analyse exploratoire

## Chargement des données

```{r}
bands<-read.csv2("data/bands3.csv", dec=".", header=T, na.strings="?")
bands<-tibble(bands)
head(bands)
```

## Analyse des valeurs manquantes

Nombre de valeurs manquantes par attribut:

```{r}
bands %>%
  summarize(across(everything(), ~sum(is.na(.))))
```

Proportion des valeurs manquantes par colonne:

```{r}
colMeans(is.na(bands))
```

Visualisation de la répartition des valeurs manquantes (par type):

```{r fig.align='center', fig.width=6, fig.height=6}
plot_missing(
  bands %>% select(where(is.numeric))
, title="Proportion NA pour attributs numériques")
```

```{r fig.align='center', fig.width=6, fig.height=6}
plot_missing(
  bands %>% select(where(is.integer))
, title="Proportions NA des attributs entiers")
```

```{r fig.align='center', fig.width=6, fig.height=6}
plot_missing(
  bands %>% select(where(is.character))
, title="Proportions NA des attributs textuels")
```

## Préparation des données

Visualisation de la répartition des types d'attributs:

```{r fig.align='left', fig.width=6, fig.height=6}
inspect_types(bands) %>% show_plot()
```

Sur les 
Séparation des attributs quantitatifs et qualitatifs:

Sur les 40 attributs, ceux situés entre le 2ème et le 20ème inclus sont qualitatifs:

```{r}
idx.quali<-c(2:20, 40)
idx.quali
```

Les autres sont quantitatif:

```{r}
idx.quant<-((1:40)[-idx.quali])
idx.quant
```

Création de sous-ensembles purement qualitatifs ou quantitatifs:

```{r}
bands.quali<-bands[, idx.quali] %>% mutate(across(where(is.integer), as.factor))
bands.quali<-bands.quali %>% mutate(across(where(is.character), as.factor))
head(bands.quali)
```

```{r}
bands.quant<-bands[, idx.quant]
head(bands.quant)
```

```{r}
print(summary(bands.quali))
print(summary(bands.quant))
```

```{r}

```


Remplacement des valeurs numériques manquantes par la médiane de l'attribut:

```{r}
bands.quant %>%
  
```

Correction des valeurs quantitatives:

```{r}

```


## Sélection des colonnes

